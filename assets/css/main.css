/* Reset */
*{margin:0;padding:0;box-sizing:border-box}

/* Base */
html,body{
  height:100%;
  font-family:'Verdana Pro Regular',Verdana,sans-serif;
  background:#000;             /* 防首帧闪白 */
}

/* ====== 顶层黑幕（与 main.js 的 FADE 匹配）====== */
.ivt-fade-overlay{
  position:fixed; inset:0;
  background:#000;
  opacity:1;                   /* 初始黑场，JS 下一帧降到 0 */
  pointer-events:none;
  z-index:99999;               /* 盖住所有内容 */
  will-change:opacity;         /* 提前告诉浏览器优化 */
  transition:opacity .7s ease; /* 对齐默认 IN/OUT 700ms */
}

/* ====== 菜单按钮：方形外框 + 轻磨砂 ====== */
.menu-button{
  position:absolute; top:40px; right:40px;
  z-index:1002;
  cursor:pointer;
  width:40px; height:40px;
  border-radius:8px;                      /* 方形，轻微圆角 */
  background:rgba(255,255,255,0.06);
  border:0px solid rgba(255,255,255,0.6); /* 白色描边 */
  color:#fff;
  display:grid; place-items:center;
  backdrop-filter:blur(6px);
  -webkit-backdrop-filter:blur(6px);
  transition:background-color .2s ease, transform .1s ease;
}
.menu-button::before{content:'≡';font-size:1.4em;line-height:1}
.menu-button:hover{background:rgba(255,255,255,0.12)}
.menu-button:active{transform:scale(0.95)}
.menu-button.hide{display:none}

/* ====== 侧栏：磨砂玻璃效果 ====== */
.sidebar-menu{
  position:fixed; top:8%; right:-20%; width:15%; height:100%;
  padding:50px;
  background:rgba(0,0,0,.45);
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
  border:1px solid rgba(255,255,255,0.08);
  border-right:none;
  box-shadow:0 20px 50px rgba(0,0,0,0.35);
  color:#808080; text-align:center;
  transition:right .5s;
  z-index:1001;
}
.sidebar-menu.active{right:0}
.sidebar-menu div.space{height:20px}

/* ====== 菜单链接 ====== */
.sidebar-menu a{
  position:relative;
  display:block;
  margin-bottom:10px;
  padding:8px 0;
  font-size:12px;
  color:#fff;
  text-decoration:none;
  text-align:center;
  border-radius:6px;
  transition:background-color .2s ease, color .2s ease, border-color .2s ease;
}
.sidebar-menu a:hover{
  background:rgba(255,255,255,.12);
  color:#fff;
}

/* ====== 已选页面：淡白外框/底色 ====== */
.sidebar-menu a[aria-current="page"]{
  color:#fff;
  font-weight:600;
  background:rgba(255,255,255,0.08);       /* 微亮背景 */
  border:0px solid rgba(255,255,255,0.35); /* 半透明白色外框 */
  border-radius:6px;
}

/* 禁用右侧白色提示（如之前有基于 title 的 tooltip） */
.sidebar-menu a[title]:hover::after{
  display:none !important; content:none !important;
}

/* ====== 媒体层 ====== */
.work-image,.work-video{
  position:fixed; inset:0; width:100vw; height:100vh;
  object-fit:cover; background-position:center; background-repeat:no-repeat;
  transition:opacity .5s ease;
  will-change:opacity;
}
.work-image{display:block; opacity:1}
.work-video{display:none; opacity:0}

/* ====== 左下角文字（说明内容） ====== */
.work-description{
  position:absolute;
  left:2%; bottom:5%;
  color:#fff;
  font-size:14px;              /* 默认字体大小（桌面端） */
  line-height:1.5;
  padding:10px;
  border-radius:5px;
  max-width:27%;               /* 桌面端比较窄 */
  z-index:2;
  text-align:justify;
}

/* 手机端优化：放大文字 & 加宽 */
@media (max-width:768px){
  .work-description{
    left:5%; right:5%;
    bottom:8%;
    max-width:90%;             /* 占满屏幕宽度，留一点边距 */
    font-size:16px;            /* 提高字号方便阅读 */
    text-align:left;           /* 左对齐更适合窄屏 */
  }
}

/* ====== 自适应菜单 ====== */
@media (max-width:768px){
  .sidebar-menu{width:50%; right:-50%}
  .sidebar-menu a,.sidebar-menu div{font-size:12px}
  .work-image,.work-video{height:100vh; object-fit:cover}
}

/* ====== 无障碍：减少动画时统一关闭过渡 ====== */
@media (prefers-reduced-motion: reduce){
  .ivt-fade-overlay,
  .work-image,.work-video,
  .sidebar-menu{ transition:none !important }
}

/* ====== 预启动阶段：隐藏正文，避免文字抢先一帧亮起 ====== */
html.ivt-preboot body > :not(.ivt-fade-overlay){
  visibility: hidden !important;
}

/* 减少动画模式下也同样隐藏，防止闪烁 */
@media (prefers-reduced-motion: reduce){
  html.ivt-preboot body > :not(.ivt-fade-overlay){
    visibility: hidden !important;
  }
}
